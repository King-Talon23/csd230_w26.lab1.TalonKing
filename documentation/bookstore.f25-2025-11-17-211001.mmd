classDiagram
%% Interface Implementations
    Serializable <|.. ProductEntity
    SaleableItem <|.. ProductEntity

%% Inheritance Hierarchy
    ProductEntity <|-- Ticket
    ProductEntity <|-- Publication
    ProductEntity <|-- ClothingItem

    Publication <|-- Book
    Publication <|-- Magazine
    Magazine <|-- DiscMag

    ClothingItem <|-- Jacket
    ClothingItem <|-- TShirt

%% Associations
    ProductEntity "many" --* "many" CartEntity : products

    class CartEntity {
        -Long id
        -Set~ProductEntity~ products
        +void addProduct(ProductEntity product)
        +Long getId()
        +void setId(Long id)
        +Set~ProductEntity~ getProducts()
        +void setProducts(Set~ProductEntity~ products)
    }

    class ProductEntity {
        <<abstract>>
        -Long id
        -Set~CartEntity~ carts
        +Set~CartEntity~ getCarts()
        +void setCarts(Set~CartEntity~ carts)
        +Long getId()
        +void setId(Long id)
        +toString() String
    }

    class Serializable {
        <<interface>>
    }

    class SaleableItem {
        <<interface>>
        +sellItem()
        +getPrice() double
    }

    class Ticket {
        +String description
        +double price
        +sellItem()
    }

    class Publication {
        <<abstract>>
        -String title
        -double price
        -int copies
        +getPrice() double
        +toString() String
        +equals(Object) boolean
        +hashCode() int
    }

    class Book {
        -String author
        +edit()
        +initialize()
        +sellItem()
    }

    class Magazine {
        -int orderQty
        -Date currentIssue
        +edit()
        +initialize()
        +sellItem()
    }

    class DiscMag {
        -boolean hasDisc
        +edit()
        +initialize()
        +sellItem()
    }

%% ===== Clothing Niche =====

    class ClothingItem {
        <<abstract>>
        -String size
        -double price
        -int copies
        +getPrice() double
        +sellItem()
    }

    class Jacket {
        -boolean insulated
        +sellItem()
    }

    class TShirt {
        -String sleeveLength
        +sellItem()
    }

    class CashTill {
        -double runningTotal
        +showTotal()
        +sellItem(SaleableItem item)
    }
